include/master-slave.inc
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the connection metadata repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
[connection master]
CREATE TABLE t1 (c1 INT KEY) ENGINE=SMARTENGINE;
include/save_binlog_position.inc
include/sync_slave_sql_with_master.inc
include/stop_slave.inc
SET @saved_slave_transaction_retries = @@GLOBAL.slave_transaction_retries;
Warnings:
Warning	1287	'@@slave_transaction_retries' is deprecated and will be removed in a future release. Please use replica_transaction_retries instead.
SET @saved_smartengine_lock_wait_timeout = @@GLOBAL.smartengine_lock_wait_timeout;
SET GLOBAL slave_transaction_retries = 1;
Warnings:
Warning	1287	'@@slave_transaction_retries' is deprecated and will be removed in a future release. Please use replica_transaction_retries instead.
SET GLOBAL smartengine_lock_wait_timeout = 1;
include/start_slave.inc
BEGIN;
INSERT INTO t1 VALUES(1);
[connection master]
INSERT INTO t1 VALUES(1);
[connection slave1]
include/wait_for_slave_sql_error.inc [errno=1205]
include/stop_slave_io.inc
CALL mtr.add_suppression(".*worker thread retried transaction 1 time.*");
CALL mtr.add_suppression(".*The slave coordinator and worker threads are "
                         "stopped, possibly leaving data in inconsistent.*");
include/assert.inc [count_transactions_retries should be greater than 0]
RESET SLAVE ALL;
Warnings:
Warning	1287	'RESET SLAVE' is deprecated and will be removed in a future release. Please use RESET REPLICA instead
include/assert.inc [count_transactions_retries should be 0]
[connection slave]
ROLLBACK;
#
# Cleanup
#
SET GLOBAL slave_transaction_retries = @saved_slave_transaction_retries;
Warnings:
Warning	1287	'@@slave_transaction_retries' is deprecated and will be removed in a future release. Please use replica_transaction_retries instead.
SET GLOBAL smartengine_lock_wait_timeout = @saved_smartengine_lock_wait_timeout;
CHANGE MASTER TO MASTER_LOG_FILE = "BINLOG_FILE", MASTER_LOG_POS = BINLOG_POS,
MASTER_USER='root', MASTER_HOST='127.0.0.1', MASTER_PORT=MASTER_PORT;
Warnings:
Warning	1287	'CHANGE MASTER' is deprecated and will be removed in a future release. Please use CHANGE REPLICATION SOURCE instead
Warning	1287	'MASTER_LOG_FILE' is deprecated and will be removed in a future release. Please use SOURCE_LOG_FILE instead
Warning	1287	'MASTER_LOG_POS' is deprecated and will be removed in a future release. Please use SOURCE_LOG_POS instead
Warning	1287	'MASTER_USER' is deprecated and will be removed in a future release. Please use SOURCE_USER instead
Warning	1287	'MASTER_HOST' is deprecated and will be removed in a future release. Please use SOURCE_HOST instead
Warning	1287	'MASTER_PORT' is deprecated and will be removed in a future release. Please use SOURCE_PORT instead
Note	1759	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	1760	Storing MySQL user name or password information in the connection metadata repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
include/start_slave.inc
[connection master]
DROP TABLE t1;
include/rpl_end.inc
